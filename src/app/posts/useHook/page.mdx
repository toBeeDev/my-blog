import ArticleLayout from "@/components/ArticleLayout";
export const article = {
  author: "Chan",
  date: "2024-03-23",
  title: "ğŸ‘¨ğŸ»â€ğŸ’» useí›…",
  description: `useí›…ì´ ë°”ê¿€ ë¦¬ì•¡íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— ëŒ€í•œ ê°„ëµí•œ ê¸€ ì •ë¦¬`,
};

export const metadata = {
  title: article.title,
  description: article.description,
};

export default (props) => <ArticleLayout article={article} {...props} />;

> ğŸ’¡ FEConf2023ì—ì„œ ë°œí‘œëœ useí›…ì´ ë°”ê¿€ ë¦¬ì•¡íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— ëŒ€í•œ ê°„ëµí•œ ê¸€ ì •ë¦¬

## ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ ë“±ì¥

ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ ë“±ì¥ìœ¼ë¡œ ì¸í•´, ì´ì œ `async` í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡Œë‹¤ê³  í•œë‹¤.

```tsx
export async function MyFriendsList({ id, isFav }) {
  const list = await db.posts.get(id);
  return (
    <div>
      <h1>{list.title}</h1>
      {isFav ? <Thumb list={list} /> : null}
    </div>
  );
}
```

ìœ„ì™€ ê°™ì´ ì„œë²„ ìì›ì— ì§ì ‘ ì ‘ê·¼í•˜ì—¬ ì„œë²„ì˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸

í•˜ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ í›…ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì¹˜ëª…ì ì¸ ë‹¨ì ì„ ê°€ì§€ê³  ìˆë‹¤. ê·¸ ì´ìœ ëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ëŒ€ë¶€ë¶„ ìƒíƒœë¥¼ ì €ì¥í•  ìˆ˜ ì—†ëŠ” ê¸°ëŠ¥ì—ë§Œ ì œí•œì ìœ¼ë¡œ ì“°ì´ê¸° ë•Œë¬¸ì— `useState` ë“±ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆë‹¤.

## í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ì–´ë–»ê²Œ ëì„ê¹Œ?

ì„œë²„ì—ì„œ ì“°ì´ëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ `async` ê°€ ê°€ëŠ¥í•´ì§€ë©´, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ë˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•œ ê²ƒì¸ê°€? ì— ëŒ€í•œ ë‹µë„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

ê¸°ì¡´ì˜ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” `useEffect` ë‚´ì— ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©° ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê³ ì‘ì´ì—ˆë‹¤.

```tsx
function Main() {
  useEffect(() => {
    async function getData() {
      try {
        const res = await axios.get("...");
      } catch (e) {
        return e;
      }
    }

    getData();
  }, []);

  return <>...</>;
}
```

í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ `async` í•˜ì§€ ëª»í•œ ê²ƒì€ ê¸°ìˆ ì  í•œê³„ ë•Œë¬¸ì´ì§€ë§Œ, ê·¸ ëŒ€ì‹  ë¦¬ì•¡íŠ¸ì—ì„œëŠ” `use` ë¼ëŠ” íŠ¹ë³„í•œ í›…ì„ ì œê³µí•  ê³„íšì„ ì„¸ìš´ë‹¤ê³  í•œë‹¤.

## `use` í›…ì€ ë¬´ì—‡ì¸ê°€?

`use` í›…ì€ ì •ì˜ì— ëŒ€í•´ì„œ, rfc ì—ì„œëŠ” ë¦¬ì•¡íŠ¸ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” `await` ë¼ê³  í•œë‹¤. `await` ì´ `async` í•¨ìˆ˜ ë‚´ì—ì„œë§Œ ì‚¬ìš© ë˜ëŠ” ê²ƒì²˜ëŸ¼, `use` ë˜í•œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì™€ í›… ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤ê³ í•œë‹¤.

```tsx
import { use } from "react";

function Component() {
  const data = use(promise);
}

function useHook() {
  const data = use(promise);
}
```

`use` ëŠ” ì •ë§ íŒŒê²©ì ì´ë‹¤. ì•„ë˜ì˜ ëª¨ë“  ê³³ì—ì„œ í™œìš©ì´ ê°€ëŠ¥í•˜ë©° ì´ëŠ” `use` ê°€ ì—¬íƒ€ ë‹¤ë¥¸ í›…ë“¤ê³¼ëŠ” ë‹¤ë¥´ê²Œ ê´€ë¦¬ë˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë©°, ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ì œí•œì´ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤ê³  í•œë‹¤.

1. ì¡°ê±´ë¶€ ë‚´ì—ì„œ í˜¸ì¶œ
2. ë¸”ë¡ êµ¬ë¬¸ë‚´ì—ì„œ í˜¸ì¶œ
3. ë£¨í”„ êµ¬ë¬¸ì—ì„œ í˜¸ì¶œ

```tsx
function Note({ id, shouldIncludeAuthor }) {
  const note = use(fetchNote(id));

  let byline = null;
  // ì¡°ê±´ë¶€ë¡œ í˜¸ì¶œí•˜ê¸°
  if (shouldIncludeAuthor) {
    const author = use(fetchNoteAuthor(note.authorId));
    byline = <h2>{author.displayName}</h2>;
  }

  return (
    <div>
      <h1>{note.title}</h1>
      {byline}
      <section>{note.body}</section>
    </div>
  );
}
```
